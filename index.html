<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	<style type="text/css">

	body {
		background: black;
	}

	p {
		color: white;
	}

	rect {
		width: 0;
		stroke: #ddddee;

	}

	.square:nth-child(2n + 1) rect {
		stroke: #fff;
	}

	</style>
</head>
<body>
	<p>welcome!</p>
	<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.5.1"></script>
	<script type="text/javascript">



/////////


var canvas = d3.select("body")
	.append("svg")
	.attr("width", 1500)
	.attr("height", 1500);



var group = canvas.append("g")
	.attr("transform", "translate(100, 100)");







//Radius in pixels
var r = 100;                          
var p = Math.PI * 2;                 
//Perimeter in angle - full circle in radians is 2Pi


//D3 arc generator with attributes
function rotate() {

	var arcOne = d3.svg.arc()                
		.innerRadius(r - 3)
		.outerRadius(r - 15)
		.startAngle(Math.floor(Math.random()*10))
		.endAngle(p - 2);
	var arcTwo = d3.svg.arc()                
		.innerRadius(r - 15)
		.outerRadius(r - 27)
		.startAngle(Math.floor(Math.random()*10))
		.endAngle(p - 2);
	var arcThree = d3.svg.arc()                
		.innerRadius(r - 27)
		.outerRadius(r - 39)
		.startAngle(Math.floor(Math.random()*10))
		.endAngle(p - 2);
	var arcFour = d3.svg.arc()                
		.innerRadius(r - 39)
		.outerRadius(r - 51)
		.startAngle(Math.floor(Math.random()*10))
		.endAngle(p - 2);
	var arcFive = d3.svg.arc()                
		.innerRadius(r - 51)
		.outerRadius(r - 63)
		.startAngle(Math.floor(Math.random()*10))
		.endAngle(p - 2);



//Append arc to canvas object group

group.append("path")                   
	.attr("d", arcOne)
	.attr("fill", "red");

group.append("path")
	.attr("d", arcTwo)
	.attr("fill", "orange");

group.append("path")
	.attr("d", arcThree)
	.attr("fill", "yellow");

group.append("path")
	.attr("d", arcFour)
	.attr("fill", "green");

group.append("path")
	.attr("d", arcFive)
	.attr("fill", "blue");






setInterval(function(){
      // d3.selectAll(".arc.innerRadius").data.clear();
      // d3.selectAll(".arc.outerRadius").data.clear();
      group.append("path")
	      .transition()
	      .attr("d", arcOne)
	      .attr("fill","black")
	      .ease("elastic");

      group.append("path")
	      .transition()
	      .attr("d", arcTwo)
	      .attr("fill","black")
	      .ease("elastic");

      group.append("path")
	      .transition()
	      .attr("d", arcThree)
	      .attr("fill","black")
	      .ease("elastic");

      group.append("path")
	      .transition()
	      .attr("d", arcFour)
	      .attr("fill","black")
	      .ease("elastic");

      group.append("path")
	      .transition()
	      .attr("d", arcFive)
	      .attr("fill","black")
	      .ease("elastic");




    },950);




}		



setInterval(function(){

      rotate();

},250);



var mySquare = canvas.append("rect")
  .attr("x",60)
  .attr("y",360)
  .attr("width",60)
  .attr("height",60);




  setInterval(function(){


mySquare.transition()
  .delay(1050)
  .attr("y",Math.floor(Math.random()*100) * Math.floor(Math.random()*10))
  .attr("x",Math.floor(Math.random()*100) * Math.floor(Math.random()*10));

},250);
                        

/////////////

</script>
</body>
</html>
